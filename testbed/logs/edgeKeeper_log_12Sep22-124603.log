[ALL  ] 2022-09-12 12:46:03,946 (EKUtils): Validating all properties:
[DEBUG] 2022-09-12 12:46:03,947 (EKUtils): validating Properties P12_FILE_PATH: /home/mehul/Desktop/TAMU/Fall2022/CSCE685/testbed/certs/tesla13.distressnet.org.p12
[DEBUG] 2022-09-12 12:46:03,947 (EKUtils): validating Properties P12_FILE_PASSWORD: atakatak
[DEBUG] 2022-09-12 12:46:03,947 (EKUtils): validating Properties GNS_SERVER_ADDRESS: 10.228.170.0
[DEBUG] 2022-09-12 12:46:03,947 (EKUtils): validating Properties ENABLE_MASTER: true
[DEBUG] 2022-09-12 12:46:03,947 (EKUtils): validating Properties EDGE_KEEPER_MASTER: auto
[DEBUG] 2022-09-12 12:46:03,947 (EKUtils): validating Properties NUMBER_OF_REPLICA: 1
[DEBUG] 2022-09-12 12:46:03,947 (EKUtils): validating Properties NEIGHBOR_IPS: auto
[DEBUG] 2022-09-12 12:46:03,947 (EKUtils): validating Properties ENABLE_REAL_IP_REPORTING: false
[DEBUG] 2022-09-12 12:46:03,947 (EKUtils): validating Properties IS_RUNNING_ON_CLOUD: false
[DEBUG] 2022-09-12 12:46:03,947 (EKUtils): validating Properties DEVICE_STATUS_INTERVAL: 30000
[DEBUG] 2022-09-12 12:46:03,947 (EKUtils): validating Properties TOPOLOGY_INTERVAL: 10000
[DEBUG] 2022-09-12 12:46:03,948 (EKUtils): validating Properties TOPOLOGY_CLEANUP_ITERATION: 4
[DEBUG] 2022-09-12 12:46:03,948 (EKUtils): validating Properties MERGE_GUID_INTERVAL: 30000
[DEBUG] 2022-09-12 12:46:03,948 (EKUtils): validating Properties MERGE_MDFS_INTERVAL: 60000
[DEBUG] 2022-09-12 12:46:03,948 (EKUtils): validating Properties tickTime: 2000
[DEBUG] 2022-09-12 12:46:03,948 (EKUtils): validating Properties initLimit: 10
[DEBUG] 2022-09-12 12:46:03,948 (EKUtils): validating Properties syncLimit: 5
[DEBUG] 2022-09-12 12:46:03,948 (EKUtils): validating Properties dataDir: tmp/zookeeper
[DEBUG] 2022-09-12 12:46:03,948 (EKUtils): validating Properties clientPort: 2181
[INFO ] 2022-09-12 12:46:03,948 (EKMainLinux): EK properties: {clientPort=2181, EDGE_KEEPER_MASTER=auto, DEVICE_STATUS_INTERVAL=30000, TOPOLOGY_INTERVAL=10000, MERGE_MDFS_INTERVAL=60000, IS_RUNNING_ON_CLOUD=false, syncLimit=5, tickTime=2000, P12_FILE_PATH=/home/mehul/Desktop/TAMU/Fall2022/CSCE685/testbed/certs/tesla13.distressnet.org.p12, MERGE_GUID_INTERVAL=30000, NEIGHBOR_IPS=auto, initLimit=10, NUMBER_OF_REPLICA=1, ENABLE_REAL_IP_REPORTING=false, GNS_SERVER_ADDRESS=10.228.170.0, dataDir=tmp/zookeeper, TOPOLOGY_CLEANUP_ITERATION=4, P12_FILE_PASSWORD=atakatak, ENABLE_MASTER=true}
[DEBUG] 2022-09-12 12:46:03,955 (EKMainLinux): Registered shutdown hook
[DEBUG] 2022-09-12 12:46:03,955 (EKHandler): Starting GNS service. ConcurrentServices: 1
[ALL  ] 2022-09-12 12:46:03,955 (EKUtils): Validating all properties:
[DEBUG] 2022-09-12 12:46:03,955 (EKUtils): validating Properties P12_FILE_PATH: /home/mehul/Desktop/TAMU/Fall2022/CSCE685/testbed/certs/tesla13.distressnet.org.p12
[DEBUG] 2022-09-12 12:46:03,955 (EKUtils): validating Properties P12_FILE_PASSWORD: atakatak
[DEBUG] 2022-09-12 12:46:03,955 (EKUtils): validating Properties GNS_SERVER_ADDRESS: 10.228.170.0
[DEBUG] 2022-09-12 12:46:03,955 (EKUtils): validating Properties ENABLE_MASTER: true
[DEBUG] 2022-09-12 12:46:03,955 (EKUtils): validating Properties EDGE_KEEPER_MASTER: auto
[DEBUG] 2022-09-12 12:46:03,956 (EKUtils): validating Properties NUMBER_OF_REPLICA: 1
[DEBUG] 2022-09-12 12:46:03,956 (EKUtils): validating Properties NEIGHBOR_IPS: auto
[DEBUG] 2022-09-12 12:46:03,956 (EKUtils): validating Properties ENABLE_REAL_IP_REPORTING: false
[DEBUG] 2022-09-12 12:46:03,956 (EKUtils): validating Properties IS_RUNNING_ON_CLOUD: false
[DEBUG] 2022-09-12 12:46:03,956 (EKUtils): validating Properties DEVICE_STATUS_INTERVAL: 30000
[DEBUG] 2022-09-12 12:46:03,956 (EKUtils): validating Properties TOPOLOGY_INTERVAL: 10000
[DEBUG] 2022-09-12 12:46:03,956 (EKUtils): validating Properties TOPOLOGY_CLEANUP_ITERATION: 4
[DEBUG] 2022-09-12 12:46:03,956 (EKUtils): validating Properties MERGE_GUID_INTERVAL: 30000
[DEBUG] 2022-09-12 12:46:03,956 (EKUtils): validating Properties MERGE_MDFS_INTERVAL: 60000
[DEBUG] 2022-09-12 12:46:03,956 (EKUtils): validating Properties tickTime: 2000
[DEBUG] 2022-09-12 12:46:03,957 (EKUtils): validating Properties initLimit: 10
[DEBUG] 2022-09-12 12:46:03,957 (EKUtils): validating Properties syncLimit: 5
[DEBUG] 2022-09-12 12:46:03,957 (EKUtils): validating Properties dataDir: tmp/zookeeper
[DEBUG] 2022-09-12 12:46:03,957 (EKUtils): validating Properties clientPort: 2181
[ALL  ] 2022-09-12 12:46:03,957 (EKHandler): Validated all properties
[DEBUG] 2022-09-12 12:46:03,959 (EKUtils): p12Filepath: /home/mehul/Desktop/TAMU/Fall2022/CSCE685/testbed/certs/tesla13.distressnet.org.p12Stripped accountname: tesla13.distressnet.org
[DEBUG] 2022-09-12 12:46:05,085 (GNSClientHandler): Could not connect to old GNS server. Trying to find new GNS Server
[ALL  ] 2022-09-12 12:46:05,085 (GNSClientHandler): Now trying multithread for connecting GNS server
[ALL  ] 2022-09-12 12:46:05,087 (GNSClientHandler): [GNS] Trying to connect to GNS server: 10.228.170.0
[INFO ] 2022-09-12 12:46:05,175 (GNSClientHandler): [GNS] succesfully connected to GNS server: 10.228.170.0
[DEBUG] 2022-09-12 12:46:05,176 (GNSClientHandler): Connected with one GNS server: GNSClient35675
[DEBUG] 2022-09-12 12:46:05,176 (GNSClientHandler): Trying to register to GNS server
[DEBUG] 2022-09-12 12:46:05,934 (GNSClientHandler): Registration output: EB634DEDFB2EA94193AAC36EB9A7E605AFAA5582
[INFO ] 2022-09-12 12:46:06,108 (GNSClientHandler): [GNS] Connected with GNS server. Own GUID: tesla13.distressnet.org (EB634DEDFB2EA94193AAC36EB9A7E605AFAA5582)
[INFO ] 2022-09-12 12:46:06,109 (GNSClientHandler): GNS client got connected
[DEBUG] 2022-09-12 12:46:06,109 (EKUtils): p12Filepath: /home/mehul/Desktop/TAMU/Fall2022/CSCE685/testbed/certs/tesla13.distressnet.org.p12Stripped accountname: tesla13.distressnet.org
[ALL  ] 2022-09-12 12:46:06,109 (EKRecord): Updated record= {"EKaccountName":"tesla13.distressnet.org","UPDATE_TIME":1663004766109}
[ALL  ] 2022-09-12 12:46:06,111 (ClusterHealthServer): CHS CluserHealthServer initializing DatStore.
[INFO ] 2022-09-12 12:46:06,134 (CoordinatorServer): Started Coordinator server, listening at 22221
[DEBUG] 2022-09-12 12:46:06,157 (ZKClientHandler): ZKClient Handler declared. Own GUID=EB634DEDFB2EA94193AAC36EB9A7E605AFAA5582
[INFO ] 2022-09-12 12:46:06,159 (RequestServer): Started RequestServer for JAVA, listening at 22222
[INFO ] 2022-09-12 12:46:06,159 (RequestServer): Started RequestServer for CPP, listening at 22223
[ALL  ] 2022-09-12 12:46:06,164 (GNSClientHandler): checking GNS client connection
[ALL  ] 2022-09-12 12:46:06,164 (ClusterHealthServer): CHS CluserHealthServer initializing ServerSocket.
[INFO ] 2022-09-12 12:46:06,164 (DNSServer): Starting DNS server at UDP port no. 53
[ALL  ] 2022-09-12 12:46:06,164 (ClusterHealthServer): CHS  Cluster Health Monitor server running....
[ALL  ] 2022-09-12 12:46:06,164 (ZKClientHandler): Zookeeper Client is not connected
[ALL  ] 2022-09-12 12:46:06,164 (TopoHandler): Started cloud client
[INFO ] 2022-09-12 12:46:06,166 (TopoHandler): Detected change in own IP address. Closing the previous datagram sockets
[ALL  ] 2022-09-12 12:46:06,166 (TopoHandler): Opening Datagram Socket for ip : 10.228.170.0
[ALL  ] 2022-09-12 12:46:06,166 (TopoHandler): Could not communicate with cloud IP: 10.228.170.0
[FATAL] 2022-09-12 12:46:06,168 (DNSServer): Could not start DNS server. Try running with sudo previledge. 
java.net.BindException: Permission denied (Bind failed)
	at java.net.PlainDatagramSocketImpl.bind0(Native Method)
	at java.net.AbstractPlainDatagramSocketImpl.bind(AbstractPlainDatagramSocketImpl.java:93)
	at java.net.DatagramSocket.bind(DatagramSocket.java:392)
	at java.net.DatagramSocket.<init>(DatagramSocket.java:242)
	at java.net.DatagramSocket.<init>(DatagramSocket.java:299)
	at java.net.DatagramSocket.<init>(DatagramSocket.java:271)
	at edu.tamu.cse.lenss.edgeKeeper.dns.DNSServer.run(DNSServer.java:44)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
[DEBUG] 2022-09-12 12:46:06,170 (TopoReceiver): Started receiver thread for 10.228.170.0
[ALL  ] 2022-09-12 12:46:06,170 (GNSClientHandler): GNS connectivity checked. Still connected with old GNS server
[ALL  ] 2022-09-12 12:46:06,170 (TopoHandler): Created UDP socket for 10.228.170.0:22226
[ALL  ] 2022-09-12 12:46:06,169 (CoordinatorClient): Trying to reconfigure the EdgeStatus
[INFO ] 2022-09-12 12:46:06,172 (EKHandler): Detected change in own IP address. Trying to update IP to GNSserver.
[INFO ] 2022-09-12 12:46:06,173 (EKHandler): EdgeKeeper all tasks started
[ALL  ] 2022-09-12 12:46:06,173 (RequestResolver):  Trying to update own IP to the GNS server
[ALL  ] 2022-09-12 12:46:06,174 (EKRecord): Updated record= {"A":{"record":["10.228.170.0"],"ttl":0},"EKaccountName":"tesla13.distressnet.org","UPDATE_TIME":1663004766174}
[ALL  ] 2022-09-12 12:46:06,174 (ZKClientHandler): Trying to update current name record
[ALL  ] 2022-09-12 12:46:06,174 (EKRecord): fetched record: {"A":{"record":["10.228.170.0"],"ttl":0},"EKaccountName":"tesla13.distressnet.org","UPDATE_TIME":1663004766174}
[ALL  ] 2022-09-12 12:46:06,174 (ZKClientHandler): Zookeeper Client is not connected
[WARN ] 2022-09-12 12:46:06,174 (ZKClientHandler): Could not update the data
[ALL  ] 2022-09-12 12:46:06,174 (GNSClientHandler): Trying to update the record to GNS
[ALL  ] 2022-09-12 12:46:06,176 (EKRecord): Updated record= {"A":{"record":["10.228.170.0"],"ttl":0},"netAddress":["10.228.170.0"],"EKaccountName":"tesla13.distressnet.org","UPDATE_TIME":1663004766176}
[ALL  ] 2022-09-12 12:46:06,176 (ZKClientHandler): Trying to update current name record
[ALL  ] 2022-09-12 12:46:06,176 (EKRecord): fetched record: {"A":{"record":["10.228.170.0"],"ttl":0},"netAddress":["10.228.170.0"],"EKaccountName":"tesla13.distressnet.org","UPDATE_TIME":1663004766176}
[ALL  ] 2022-09-12 12:46:06,176 (ZKClientHandler): Zookeeper Client is not connected
[WARN ] 2022-09-12 12:46:06,176 (ZKClientHandler): Could not update the data
[ALL  ] 2022-09-12 12:46:06,176 (GNSClientHandler): Trying to update the record to GNS
[DEBUG] 2022-09-12 12:46:06,177 (GNSClientHandler): Starting a new thread to update GNS recrd
[ALL  ] 2022-09-12 12:46:06,178 (TopoSender): Could not retrieve the IPs of the master. Not sending any ping.
[DEBUG] 2022-09-12 12:46:06,180 (ClusterHealthClient): Could not obtain the IP of EK master. Aborting communication
java.lang.NullPointerException
	at edu.tamu.cse.lenss.edgeKeeper.clusterHealth.ClusterHealthClient.communicateWiteHealthServer(ClusterHealthClient.java:45)
	at edu.tamu.cse.lenss.edgeKeeper.clusterHealth.ClusterHealthClient.reportDeviceStatus(ClusterHealthClient.java:136)
	at edu.tamu.cse.lenss.edgeKeeper.clusterHealth.ClusterHealthClient.run(ClusterHealthClient.java:98)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
[ALL  ] 2022-09-12 12:46:06,181 (ClusterHealthClient): failed to push device status to server
[ALL  ] 2022-09-12 12:46:06,182 (GNSClientHandler): GNS connectivity checked. Still connected with old GNS server
[ALL  ] 2022-09-12 12:46:06,183 (EKRecord): fetched record: {"A":{"record":["10.228.170.0"],"ttl":0},"netAddress":["10.228.170.0"],"EKaccountName":"tesla13.distressnet.org","UPDATE_TIME":1663004766176}
[DEBUG] 2022-09-12 12:46:06,188 (RequestResolver): Updated IP fields to own record
[DEBUG] 2022-09-12 12:46:06,188 (GNSClientHandler): Starting a new thread to update GNS recrd
[ALL  ] 2022-09-12 12:46:06,198 (GNSClientHandler): GNS connectivity checked. Still connected with old GNS server
[ALL  ] 2022-09-12 12:46:06,199 (EKRecord): fetched record: {"A":{"record":["10.228.170.0"],"ttl":0},"netAddress":["10.228.170.0"],"EKaccountName":"tesla13.distressnet.org","UPDATE_TIME":1663004766176}
[INFO ] 2022-09-12 12:46:06,222 (GNSClientHandler): committed update to GNS.  record:
{"A":{"record":["10.228.170.0"],"ttl":0},"netAddress":["10.228.170.0"],"EKaccountName":"tesla13.distressnet.org","UPDATE_TIME":1663004766176}
[ALL  ] 2022-09-12 12:46:06,222 (EKRecord): fetched record: {"A":{"record":["10.228.170.0"],"ttl":0},"netAddress":["10.228.170.0"],"EKaccountName":"tesla13.distressnet.org","UPDATE_TIME":1663004766176}
[INFO ] 2022-09-12 12:46:06,227 (GNSClientHandler): committed update to GNS.  record:
{"A":{"record":["10.228.170.0"],"ttl":0},"netAddress":["10.228.170.0"],"EKaccountName":"tesla13.distressnet.org","UPDATE_TIME":1663004766176}
[ALL  ] 2022-09-12 12:46:06,227 (EKRecord): fetched record: {"A":{"record":["10.228.170.0"],"ttl":0},"netAddress":["10.228.170.0"],"EKaccountName":"tesla13.distressnet.org","UPDATE_TIME":1663004766176}
[DEBUG] 2022-09-12 12:46:06,422 (TopoHandler): Current Graph | ================Topology==============
Node = EB634DEDFB2EA94193AAC36EB9A7E605AFAA5582 | EDGE_MASTER | {10.228.170.0=WIFI}
[DEBUG] 2022-09-12 12:46:06,428 (CoordinatorClient): IPs 10.228.170.0 connected with 0 clients
[ALL  ] 2022-09-12 12:46:06,428 (CoordinatorClient): IP address for replica EB634DEDFB2EA94193AAC36EB9A7E605AFAA5582 remained same
[ALL  ] 2022-09-12 12:46:06,428 (CoordinatorClient): replica map size=1 no of replica needed =1
[ALL  ] 2022-09-12 12:46:06,428 (CoordinatorClient): The replica status remained same after reset
[DEBUG] 2022-09-12 12:46:06,452 (CoordinatorClient): After resetting the edge Status as master, the edge Status is {"replicaStatus":"FORMED","masterGUID":"EB634DEDFB2EA94193AAC36EB9A7E605AFAA5582","masterIPs":["10.228.170.0"],"replicaMap":{"EB634DEDFB2EA94193AAC36EB9A7E605AFAA5582":"10.228.170.0"}}
[ALL  ] 2022-09-12 12:46:06,453 (CoordinatorClient): Trying to notify Replicas
[DEBUG] 2022-09-12 12:46:06,455 (CoordinatorClient):  Valid replica reached {"replicaStatus":"FORMED","masterGUID":"EB634DEDFB2EA94193AAC36EB9A7E605AFAA5582","masterIPs":["10.228.170.0"],"replicaMap":{"EB634DEDFB2EA94193AAC36EB9A7E605AFAA5582":"10.228.170.0"}}
[ALL  ] 2022-09-12 12:46:06,456 (EKRecord): Updated record= {"A":{"record":["10.228.170.0"],"ttl":0},"netAddress":["10.228.170.0"],"MasterGuid":"EB634DEDFB2EA94193AAC36EB9A7E605AFAA5582","EKaccountName":"tesla13.distressnet.org","UPDATE_TIME":1663004766456}
[ALL  ] 2022-09-12 12:46:06,456 (CoordinatorClient): Trying to restart ZK server
[ALL  ] 2022-09-12 12:46:06,456 (ZKServerHandler): Trying to restart ZKServer 
[INFO ] 2022-09-12 12:46:06,456 (ZKServerHandler): Terminatededu.tamu.cse.lenss.edgeKeeper.zk.ZKServerHandler
[ALL  ] 2022-09-12 12:46:06,456 (ZKServerHandler): Potential ZK replicas: [10.228.170.0]
[INFO ] 2022-09-12 12:46:06,456 (ZKServerHandler): EK Master map: {10.228.170.0=182757888}
[ALL  ] 2022-09-12 12:46:06,456 (ZKServerHandler): Potential ZK replicas: [10.228.170.0]
[INFO ] 2022-09-12 12:46:06,456 (ZKServerHandler): Zookeeper data directory already exist. tmp/zookeeper
[DEBUG] 2022-09-12 12:46:06,456 (ZKServerHandler): Checking whether this ip is in config. 10.228.170.0
[INFO ] 2022-09-12 12:46:06,457 (ZKServerHandler): This device is acting as master. Preparing the myid. IP: 10.228.170.0
[DEBUG] 2022-09-12 12:46:06,457 (ZKServerHandler): Prepared the myid file: tmp/zookeeper/myid	182757888
[INFO ] 2022-09-12 12:46:06,457 (ZKServerHandler): Trying to start new Zookeeper server
[ALL  ] 2022-09-12 12:46:06,457 (TopoHandler): Exported graph ================Topology==============
Node = EB634DEDFB2EA94193AAC36EB9A7E605AFAA5582 | EDGE_MASTER | {10.228.170.0=WIFI}
[INFO ] 2022-09-12 12:46:06,457 (ZKServWorker): 1 ZK replica configuration: {server.182757888=10.228.170.0:2740:3740, clientPort=2181, dataDir=tmp/zookeeper, syncLimit=5, initLimit=10, tickTime=2000}
[DEBUG] 2022-09-12 12:46:06,460 (ZKServWorker): Parsed qquorum config: org.apache.zookeeper.server.quorum.QuorumPeerConfig@73a0dcee
[INFO ] 2022-09-12 12:46:06,460 (ZKServWorker): 1 Attempting to Runn standalone ZooKeeper quorum peer.
[DEBUG] 2022-09-12 12:46:06,462 (ZKServWorker): 1Successfully Running standalone ZooKeeper quorum peer.
[ALL  ] 2022-09-12 12:46:06,462 (ZooKeeperServerMain): Problem shutting down the Single instance Zookeeper server
java.lang.NullPointerException
	at org.apache.zookeeper.server.ZooKeeperServerMain.shutdown(ZooKeeperServerMain.java:132)
	at edu.tamu.cse.lenss.edgeKeeper.zk.ZKServSingle.terminate(ZKServSingle.java:21)
	at edu.tamu.cse.lenss.edgeKeeper.zk.ZKServSingle$1.run(ZKServSingle.java:31)
[INFO ] 2022-09-12 12:46:06,463 (EKHandler): Single instance Zookeeper server is started
[ALL  ] 2022-09-12 12:46:06,463 (CoordinatorClient): Restarted ZK server
[ALL  ] 2022-09-12 12:46:06,463 (CoordinatorClient): Trying to restart ZK client
[INFO ] 2022-09-12 12:46:06,463 (ZooKeeperServerMain): Terminatededu.tamu.cse.lenss.edgeKeeper.zk.ZKServSingle
[DEBUG] 2022-09-12 12:46:06,463 (ZooKeeperServerMain): Starting Standalone ZK Server.
[INFO ] 2022-09-12 12:46:06,464 (ZKClientHandler): Terminated ZKClientHandler
[INFO ] 2022-09-12 12:46:06,512 (ZKClientHandler): Starting ZKClient for server=10.228.170.0:2181,
[ALL  ] 2022-09-12 12:46:06,528 (CoordinatorClient): Restarted ZK client
[ALL  ] 2022-09-12 12:46:06,528 (ZKClientHandler): Zookeeper Client is not connected
[ALL  ] 2022-09-12 12:46:06,528 (CoordinatorClient): Trying to restart ZK client
[ALL  ] 2022-09-12 12:46:06,528 (ZKClientHandler): closing Zookeeper client
[INFO ] 2022-09-12 12:46:06,540 (ZKClientHandler): Terminated ZKClientHandler
[INFO ] 2022-09-12 12:46:06,540 (ZKClientHandler): Starting ZKClient for server=10.228.170.0:2181,
[ALL  ] 2022-09-12 12:46:06,541 (CoordinatorClient): Restarted ZK client
[ALL  ] 2022-09-12 12:46:06,542 (ZKClientHandler): Preparing GUID data record for edge merger
[ALL  ] 2022-09-12 12:46:06,542 (CoordinatorClient): No edge neighbor found.
[ALL  ] 2022-09-12 12:46:06,543 (ZKClientHandler): Could not fetch GUID informations as the cache is null
[ALL  ] 2022-09-12 12:46:06,543 (ZKClientHandler): Cache is not initialized returning null
[ERROR] 2022-09-12 12:46:06,543 (CoordinatorClient): GUID merge data is null
[ALL  ] 2022-09-12 12:46:06,546 (ZKClientHandler): curator event state=CONNECTED
[INFO ] 2022-09-12 12:46:06,546 (ZKClientHandler): Zookeeper connection established. Starting to cache.
[DEBUG] 2022-09-12 12:46:06,561 (ZKClientHandler): Created new EK cluster
[DEBUG] 2022-09-12 12:46:06,564 (ZKClientHandler): Created new EK name record path
[INFO ] 2022-09-12 12:46:06,567 (ZKClientHandler): Znode for this GUID already exist. Deliting the record
[DEBUG] 2022-09-12 12:46:06,571 (ZKClientHandler): Created the Znode for own GUID
[ALL  ] 2022-09-12 12:46:06,572 (ZKClientHandler): Trying to update current name record
[ALL  ] 2022-09-12 12:46:06,572 (EKRecord): fetched record: {"A":{"record":["10.228.170.0"],"ttl":0},"netAddress":["10.228.170.0"],"MasterGuid":"EB634DEDFB2EA94193AAC36EB9A7E605AFAA5582","EKaccountName":"tesla13.distressnet.org","UPDATE_TIME":1663004766456}
[DEBUG] 2022-09-12 12:46:06,574 (ZKClientHandler): Update own data to Zookeeper: {"A":{"record":["10.228.170.0"],"ttl":0},"netAddress":["10.228.170.0"],"MasterGuid":"EB634DEDFB2EA94193AAC36EB9A7E605AFAA5582","EKaccountName":"tesla13.distressnet.org","UPDATE_TIME":1663004766456}
[INFO ] 2022-09-12 12:46:06,582 (ZKClientHandler): Started caching the EK cluster updates
[ALL  ] 2022-09-12 12:46:06,583 (ZKClientHandler): Cache client state change. New stat=NODE_ADDED
[ALL  ] 2022-09-12 12:46:06,584 (ZKClientHandler): Cache client state change. New stat=NODE_ADDED
[ALL  ] 2022-09-12 12:46:06,585 (ZKClientHandler): Cache client state change. New stat=INITIALIZED
[ALL  ] 2022-09-12 12:46:16,167 (TopoHandler): Could not communicate with cloud IP: 10.228.170.0
[ALL  ] 2022-09-12 12:46:16,458 (TopoHandler): Own device IP addresses remains same. No need to update[10.228.170.0]
[DEBUG] 2022-09-12 12:46:16,483 (TopoHandler): Current Graph | ================Topology==============
Node = EB634DEDFB2EA94193AAC36EB9A7E605AFAA5582 | EDGE_MASTER | {10.228.170.0=WIFI}
[ALL  ] 2022-09-12 12:46:16,490 (TopoHandler): Exported graph ================Topology==============
Node = EB634DEDFB2EA94193AAC36EB9A7E605AFAA5582 | EDGE_MASTER | {10.228.170.0=WIFI}
[ALL  ] 2022-09-12 12:46:16,542 (CoordinatorClient): Trying to reconfigure the EdgeStatus
[DEBUG] 2022-09-12 12:46:16,563 (CoordinatorClient): IPs 10.228.170.0 connected with 0 clients
[ALL  ] 2022-09-12 12:46:16,564 (CoordinatorClient): IP address for replica EB634DEDFB2EA94193AAC36EB9A7E605AFAA5582 remained same
[ALL  ] 2022-09-12 12:46:16,564 (CoordinatorClient): replica map size=1 no of replica needed =1
[ALL  ] 2022-09-12 12:46:16,564 (CoordinatorClient): The replica status remained same after reset
[DEBUG] 2022-09-12 12:46:16,566 (CoordinatorClient): After resetting the edge Status as master, the edge Status is {"replicaStatus":"FORMED","masterGUID":"EB634DEDFB2EA94193AAC36EB9A7E605AFAA5582","masterIPs":["10.228.170.0"],"replicaMap":{"EB634DEDFB2EA94193AAC36EB9A7E605AFAA5582":"10.228.170.0"}}
[DEBUG] 2022-09-12 12:46:16,568 (CoordinatorClient):  Valid replica reached {"replicaStatus":"FORMED","masterGUID":"EB634DEDFB2EA94193AAC36EB9A7E605AFAA5582","masterIPs":["10.228.170.0"],"replicaMap":{"EB634DEDFB2EA94193AAC36EB9A7E605AFAA5582":"10.228.170.0"}}
[INFO ] 2022-09-12 12:46:20,054 (EKHandler): EdgeKeeper shutting down
[INFO ] 2022-09-12 12:46:20,054 (GNSClientHandler): Terminated edu.tamu.cse.lenss.edgeKeeper.server.GNSClientHandler
[ALL  ] 2022-09-12 12:46:20,054 (ClusterHealthServer): CHS terminate function called.
[INFO ] 2022-09-12 12:46:20,054 (ClusterHealthServer): CHS Terminated edu.tamu.cse.lenss.edgeKeeper.clusterHealth.ClusterHealthServer
[DEBUG] 2022-09-12 12:46:20,054 (ClusterHealthServer): Exception occured for accepting client request 
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:560)
	at java.net.ServerSocket.accept(ServerSocket.java:528)
	at edu.tamu.cse.lenss.edgeKeeper.clusterHealth.ClusterHealthServer.run(ClusterHealthServer.java:78)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
[INFO ] 2022-09-12 12:46:20,054 (DNSServer): Terminatededu.tamu.cse.lenss.edgeKeeper.dns.DNSServer
[INFO ] 2022-09-12 12:46:20,055 (TopoHandler): Terminated edu.tamu.cse.lenss.edgeKeeper.topology.TopoCloudServer
[INFO ] 2022-09-12 12:46:20,055 (TopoHandler): Terminated edu.tamu.cse.lenss.edgeKeeper.topology.TopoCloudClient
[ERROR] 2022-09-12 12:46:20,055 (TopoHandler): Problem in sleep
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at edu.tamu.cse.lenss.edgeKeeper.topology.TopoCloudClient.run(TopoCloudClient.java:40)
[DEBUG] 2022-09-12 12:46:20,055 (TopoReceiver): Problem in accepting UDP packet 
java.net.SocketException: Socket closed
	at java.net.PlainDatagramSocketImpl.receive0(Native Method)
	at java.net.AbstractPlainDatagramSocketImpl.receive(AbstractPlainDatagramSocketImpl.java:143)
	at java.net.DatagramSocket.receive(DatagramSocket.java:812)
	at edu.tamu.cse.lenss.edgeKeeper.topology.TopoReceiver.run(TopoReceiver.java:41)
[INFO ] 2022-09-12 12:46:20,055 (TopoHandler): Terminated edu.tamu.cse.lenss.edgeKeeper.topology.TopoHandler
[INFO ] 2022-09-12 12:46:20,055 (CoordinatorServer): Terminated edu.tamu.cse.lenss.edgeKeeper.server.CoordinatorServer
[WARN ] 2022-09-12 12:46:20,056 (CoordinatorServer): Problem in accepting client socet
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:560)
	at java.net.ServerSocket.accept(ServerSocket.java:528)
	at edu.tamu.cse.lenss.edgeKeeper.server.CoordinatorServer.run(CoordinatorServer.java:34)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
[INFO ] 2022-09-12 12:46:20,056 (CoordinatorClient): Terminated edu.tamu.cse.lenss.edgeKeeper.server.CoordinatorClient
[ALL  ] 2022-09-12 12:46:20,056 (ZKClientHandler): closing cache
[ALL  ] 2022-09-12 12:46:20,056 (ZKClientHandler): closing Zookeeper client
[INFO ] 2022-09-12 12:46:20,056 (ZKClientHandler): Terminated ZKClientHandler
[INFO ] 2022-09-12 12:46:20,058 (ZooKeeperServerMain): Terminatededu.tamu.cse.lenss.edgeKeeper.zk.ZKServSingle
[INFO ] 2022-09-12 12:46:20,058 (EKHandler): This ZK server is stopped
[INFO ] 2022-09-12 12:46:20,058 (ZKServWorker): 1 Terminated edu.tamu.cse.lenss.edgeKeeper.zk.ZKServWorker
[DEBUG] 2022-09-12 12:46:20,058 (ZooKeeperServerMain): Successfully Started Standalone ZK Server.
[INFO ] 2022-09-12 12:46:20,058 (ZKServerHandler): Terminatededu.tamu.cse.lenss.edgeKeeper.zk.ZKServerHandler
[ALL  ] 2022-09-12 12:46:20,058 (ClusterHealthClient): CHS terminate function called.
[INFO ] 2022-09-12 12:46:20,058 (ClusterHealthClient): CHS Terminated edu.tamu.cse.lenss.edgeKeeper.clusterHealth.ClusterHealthClient
[INFO ] 2022-09-12 12:46:20,058 (RequestServer): Closed the Serversocket for JAVA
[ERROR] 2022-09-12 12:46:20,058 (RequestServer): Error in accepting client connection
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:560)
	at java.net.ServerSocket.accept(ServerSocket.java:528)
	at edu.tamu.cse.lenss.edgeKeeper.server.RequestServer.run(RequestServer.java:72)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
[INFO ] 2022-09-12 12:46:20,058 (RequestServer): Terminated edu.tamu.cse.lenss.edgeKeeper.server.RequestServer server type: JAVA
[DEBUG] 2022-09-12 12:46:20,058 (RequestServer): Trying to shutdown the Executors and its associated threads
[INFO ] 2022-09-12 12:46:20,059 (RequestServer): Closed the Serversocket for CPP
[DEBUG] 2022-09-12 12:46:20,059 (RequestServer): The remaining tasks shuted down: []
[INFO ] 2022-09-12 12:46:20,059 (RequestServer): Terminated edu.tamu.cse.lenss.edgeKeeper.server.RequestServer server type: CPP
[ERROR] 2022-09-12 12:46:20,059 (RequestServer): Error in accepting client connection
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:560)
	at java.net.ServerSocket.accept(ServerSocket.java:528)
	at edu.tamu.cse.lenss.edgeKeeper.server.RequestServer.run(RequestServer.java:72)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
[INFO ] 2022-09-12 12:46:20,059 (EKHandler): Terminatededu.tamu.cse.lenss.edgeKeeper.server.EKHandler$IPMonitor
[DEBUG] 2022-09-12 12:46:20,059 (RequestServer): Terminated all request Handlers
[DEBUG] 2022-09-12 12:46:20,059 (RequestServer): Trying to shutdown the Executors and its associated threads
[ERROR] 2022-09-12 12:46:20,059 (NanoHTTPD): Could not stop all connections
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1257)
	at java.lang.Thread.join(Thread.java:1331)
	at fi.iki.elonen.NanoHTTPD.stop(NanoHTTPD.java:2275)
	at edu.tamu.cse.lenss.edgeKeeper.clusterHealth.HealthWebView.terminate(HealthWebView.java:250)
	at edu.tamu.cse.lenss.edgeKeeper.server.EKHandler$ShutDownHook.run(EKHandler.java:347)
[ALL  ] 2022-09-12 12:46:20,059 (NanoHTTPD): Communication with the client broken
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:560)
	at java.net.ServerSocket.accept(ServerSocket.java:528)
	at fi.iki.elonen.NanoHTTPD$ServerRunnable.run(NanoHTTPD.java:1696)
	at java.lang.Thread.run(Thread.java:750)
[DEBUG] 2022-09-12 12:46:20,059 (RequestServer): The remaining tasks shuted down: []
[INFO ] 2022-09-12 12:46:20,059 (HealthWebView): TerminatedHealthWebView
[DEBUG] 2022-09-12 12:46:20,059 (RequestServer): Terminated all request Handlers
[DEBUG] 2022-09-12 12:46:20,060 (EKHandler): Stopped EdgeKeeper. ConcurrentServices: 0
